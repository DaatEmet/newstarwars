{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/dima/WebstormProjects/23-react-starwars/src/components/Contact.js\";\nimport React from 'react';\nimport styles from '../css_modules/contact.module.css';\nimport { checkDate } from \"../utils/Constants\";\n\nclass Contact extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getPlanetsName = () => {\n      fetch('https://sw-info-api.herokuapp.com/v1/planets').then(response => response.json()).then(data => data.map(i => this.state.planets.push(i.name))).then(data => {\n        this.setState(this.state = {\n          data,\n          timestamp: new Date()\n        });\n        localStorage.setItem('planets', JSON.stringify(this.state));\n      });\n    };\n\n    this.state = {\n      planets: []\n    };\n  }\n\n  componentDidMount() {\n    const planet = JSON.parse(localStorage.getItem('planets'));\n\n    if (planet) {\n      if (checkDate(planet.timestamp)) {\n        this.getPlanetsName();\n      } else {\n        this.setState({\n          planets: planet.planets\n        });\n      }\n    } else {\n      this.getPlanetsName();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"firstname\",\n          placeholder: \"Your name..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"lastname\",\n          placeholder: \"Your last name..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Planet:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"planet\",\n          children: this.state.planets.map((item, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            children: item\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 66\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Subject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"subject\",\n          placeholder: \"Write something..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default Contact;","map":{"version":3,"sources":["/home/dima/WebstormProjects/23-react-starwars/src/components/Contact.js"],"names":["React","styles","checkDate","Contact","Component","constructor","props","getPlanetsName","fetch","then","response","json","data","map","i","state","planets","push","name","setState","timestamp","Date","localStorage","setItem","JSON","stringify","componentDidMount","planet","parse","getItem","render","item","index"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,SAAQC,SAAR,QAAwB,oBAAxB;;AAEA,MAAMC,OAAN,SAAsBH,KAAK,CAACI,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsBnBC,cAtBmB,GAsBF,MAAM;AACnBC,MAAAA,KAAK,CAAC,8CAAD,CAAL,CACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUG,IAAI,IAAIA,IAAI,CAACC,GAAL,CAAUC,CAAD,IAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBH,CAAC,CAACI,IAA1B,CAAhB,CAFlB,EAGKT,IAHL,CAGUG,IAAI,IAAI;AACV,aAAKO,QAAL,CAAc,KAAKJ,KAAL,GAAa;AACvBH,UAAAA,IADuB;AAEvBQ,UAAAA,SAAS,EAAE,IAAIC,IAAJ;AAFY,SAA3B;AAIAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAe,KAAKV,KAApB,CAAhC;AACH,OATL;AAUH,KAjCkB;;AAEf,SAAKA,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAGH;;AAEDU,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,MAAM,GAAGH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,SAArB,CAAX,CAAf;;AACA,QAAIF,MAAJ,EAAY;AACR,UAAGzB,SAAS,CAACyB,MAAM,CAACP,SAAR,CAAZ,EAA+B;AAC3B,aAAKb,cAAL;AACH,OAFD,MAEM;AACF,aAAKY,QAAL,CAAc;AACVH,UAAAA,OAAO,EAAEW,MAAM,CAACX;AADN,SAAd;AAGH;AACJ,KARD,MAQO;AACH,WAAKT,cAAL;AACH;AACJ;;AAgBDuB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACI;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,WAAxB;AAAoC,UAAA,WAAW,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,UAAxB;AAAmC,UAAA,WAAW,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAMI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA,oBACK,KAAKf,KAAL,CAAWC,OAAX,CAAmBH,GAAnB,CAAuB,CAACkB,IAAD,EAAOC,KAAP,kBAAiB;AAAA,sBAAqBD;AAArB,aAAaC,KAAb;AAAA;AAAA;AAAA;AAAA,kBAAxC;AADL;AAAA;AAAA;AAAA;AAAA,gBANJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ,eAUI;AAAU,UAAA,IAAI,EAAC,SAAf;AAAyB,UAAA,WAAW,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAWI;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAiBH;;AAvDiC;;AAwDrC;AAED,eAAe7B,OAAf","sourcesContent":["import React from 'react';\nimport styles from '../css_modules/contact.module.css';\nimport {checkDate} from \"../utils/Constants\";\n\nclass Contact extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            planets: []\n        }\n    }\n\n    componentDidMount() {\n        const planet = JSON.parse(localStorage.getItem('planets'))\n        if (planet) {\n            if(checkDate(planet.timestamp)){\n                this.getPlanetsName()\n            }else {\n                this.setState({\n                    planets: planet.planets\n                })\n            }\n        } else {\n            this.getPlanetsName()\n        }\n    }\n\n    getPlanetsName = () => {\n        fetch('https://sw-info-api.herokuapp.com/v1/planets')\n            .then(response => response.json())\n            .then(data => data.map((i) => this.state.planets.push(i.name)))\n            .then(data => {\n                this.setState(this.state = {\n                    data,\n                    timestamp: new Date()\n                });\n                localStorage.setItem('planets', JSON.stringify(this.state))\n            })\n    }\n\n\n    render() {\n        return (\n            <div className='container'>\n                <form>\n                    <label>First Name</label>\n                    <input type=\"text\" name=\"firstname\" placeholder=\"Your name..\"/>\n                    <label>Last Name</label>\n                    <input type=\"text\" name=\"lastname\" placeholder=\"Your last name..\"/>\n                    <label>Planet:</label>\n                    <select name=\"planet\">\n                        {this.state.planets.map((item, index) => <option key={index}>{item}</option>)}\n                    </select>\n                    <label>Subject</label>\n                    <textarea name=\"subject\" placeholder=\"Write something..\"></textarea>\n                    <input type=\"submit\" value=\"Submit\"/>\n                </form>\n            </div>\n        );\n    }\n};\n\nexport default Contact;"]},"metadata":{},"sourceType":"module"}